# Payment Request System - Flow Diagrams

## System Architecture

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    PAYMENT REQUEST SYSTEM                        β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”         β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”         β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚              β”‚         β”‚              β”‚         β”‚              β”‚
β”‚    USER      β”‚β”€β”€β”€β”€β”€β”€β”€β”€β–¶β”‚     BOT      β”‚β”€β”€β”€β”€β”€β”€β”€β”€β–¶β”‚    ADMIN     β”‚
β”‚              β”‚         β”‚              β”‚         β”‚              β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”         β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”         β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
       β”‚                        β”‚                        β”‚
       β”‚                        β–Ό                        β”‚
       β”‚                 β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”               β”‚
       β”‚                 β”‚  DATABASE   β”‚                β”‚
       β”‚                 β”‚ payment_    β”‚                β”‚
       β”‚                 β”‚ requests    β”‚                β”‚
       β”‚                 β”‚ fee_        β”‚                β”‚
       β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–¶β”‚ payments    β”‚β—€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                         β”‚ users       β”‚
                         β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## Detailed User Flow

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    USER SUBMISSION FLOW                          β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

START
  β”‚
  β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ User clicks "Request Payment"        β”‚
β”‚ Button in USER_MENU                  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
             β”‚
             β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Check: Has pending request?          β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
         β”‚ YES          β”‚ NO
         β–Ό              β–Ό
    β”β”€β”€β”€β”€β”€β”€β”€β”€β”     β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
    β”‚ Block  β”‚     β”‚ Show current status β”‚
    β”‚ Submit β”‚     β”‚ Ask for amount      β”‚
    β””β”€β”€β”€β”€β”€β”€β”€β”€β”     β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                          β”‚
                          β–Ό
                   β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                   β”‚ User enters amount   β”‚
                   β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                          β”‚
                          β–Ό
                   β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                   β”‚ Ask for payment proofβ”‚
                   β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                          β”‚
                   β”β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”
                   β”‚             β”‚
            /skip  β–Ό             β–Ό  [Photo]
           β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
           β”‚ No proof β”‚   β”‚ Save proof  β”‚
           β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”   β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”
                β”‚                β”‚
                β””β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”
                         β”‚
                         β–Ό
                  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                  β”‚ Ask for notes        β”‚
                  β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                         β”‚
                  β”β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”
                  β”‚             β”‚
           /skip  β–Ό             β–Ό  [Text]
          β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
          β”‚ No notes β”‚   β”‚ Save notes  β”‚
          β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”   β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”
               β”‚                β”‚
               β””β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”
                        β”‚
                        β–Ό
          β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
          β”‚ Create payment_requests      β”‚
          β”‚ record with status='pending' β”‚
          β””β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                   β”‚
                   β–Ό
          β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
          β”‚ Show confirmation to user    β”‚
          β”‚ "Request #42 submitted"      β”‚
          β””β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                   β”‚
                   β–Ό
          β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
          β”‚ Notify ALL admins            β”‚
          β”‚ "New Payment Request #42"    β”‚
          β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                   β”‚
                   β–Ό
                  END
```

## Detailed Admin Flow

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    ADMIN APPROVAL FLOW                           β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

START (Admin gets notification or clicks button)
  β”‚
  β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Admin clicks "Pending Requests"      β”‚
β”‚ Button in ADMIN_MENU                 β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
             β”‚
             β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Query: Get all pending requests      β”‚
β”‚ FROM payment_requests                β”‚
β”‚ WHERE status = 'pending'             β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
         β”‚
         β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Display list with details:            β”‚
β”‚ - Request ID                          β”‚
β”‚ - User name                           β”‚
β”‚ - Amount                              β”‚
β”‚ - Date                                β”‚
β”‚ [Review #42] buttons                  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
         β”‚
         β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Admin clicks "Review #42"            β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
             β”‚
             β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Show full request details:           β”‚
β”‚ - User info                          β”‚
β”‚ - Amount                             β”‚
β”‚ - Payment proof (image)              β”‚
β”‚ - Notes                              β”‚
β”‚ [β… Approve] [β Reject] buttons     β”‚
β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
       β”‚                   β”‚
       β”‚ Approve           β”‚ Reject
       β–Ό                   β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Start approval  β”‚  β”‚ Update status =    β”‚
β”‚ conversation    β”‚  β”‚ 'rejected'         β”‚
β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β””β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
       β”‚                   β”‚
       β–Ό                   β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Ask for amount          β”‚ β”‚ Notify user    β”‚
β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚ "Rejected"     β”‚
       β”‚                     β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
       β–Ό                              β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”          β”‚
β”‚ Admin enters amount     β”‚          β–Ό
β”‚ (e.g., 1500)            β”‚         END
β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
       β”‚
       β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Show duration options:              β”‚
β”‚ [30 days] [60 days] [90 days]      β”‚
β”‚ [180 days] [365 days]               β”‚
β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
       β”‚
       β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Admin selects duration (e.g., 90)  β”‚
β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
       β”‚
       β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ TRANSACTION BLOCK:                  β”‚
β”‚ 1. Update payment_requests          β”‚
β”‚    SET status='approved',           β”‚
β”‚        reviewed_by=admin_id,        β”‚
β”‚        reviewed_at=NOW()            β”‚
β”‚                                     β”‚
β”‚ 2. INSERT INTO fee_payments         β”‚
β”‚    (user_id, amount, duration...)   β”‚
β”‚                                     β”‚
β”‚ 3. UPDATE users                     β”‚
β”‚    SET fee_status='paid',           β”‚
β”‚        fee_paid_date=today,         β”‚
β”‚        fee_expiry_date=             β”‚
β”‚          today + duration_days      β”‚
β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
       β”‚
       β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Show admin confirmation:            β”‚
β”‚ "β… Payment Approved!"              β”‚
β”‚ "User subscription activated"       β”‚
β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
       β”‚
       β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Notify user:                        β”‚
β”‚ "β… Payment Approved!"              β”‚
β”‚ "Valid until: DD MMM YYYY"          β”‚
β”‚ "Subscription active! π‰"           β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
       β”‚
       β–Ό
      END
```

## Status State Machine

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    REQUEST STATUS FLOW                           β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

                    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                    β”‚  START   β”‚
                    β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”
                         β”‚
                         β”‚ User submits request
                         β–Ό
                  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                  β”‚  PENDING    β”‚β—€β”€β”€β”€β”€β”€β”
                  β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”      β”‚
                         β”‚             β”‚
              Admin      β”‚             β”‚ User submits
              reviews    β”‚             β”‚ new request
                         β”‚             β”‚
            β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”    β”‚
            β”‚                     β”‚    β”‚
    Admin   β”‚                     β”‚ Admin
    clicks  β–Ό                     β–Ό clicks
    Approve                        Reject
            β”‚                     β”‚
            β”‚                     β”‚
     β”β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”       β”β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”
     β”‚  APPROVED   β”‚       β”‚  REJECTED  β”‚
     β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”       β””β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”
            β”‚                    β”‚
            β”‚                    β”‚
            β–Ό                    β–Ό
   β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
   β”‚ Subscription   β”‚    β”‚ User can     β”‚
   β”‚ Activated      β”‚    β”‚ submit new   β”‚β”€β”€β”
   β”‚ (fee_status    β”‚    β”‚ request      β”‚
   β”‚  = 'paid')     β”‚    β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
   β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## Database Transaction Flow

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚             APPROVAL DATABASE TRANSACTION                        β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

Admin clicks "Approve" and enters amount & duration
                         β”‚
                         β–Ό
              β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
              β”‚ BEGIN TRANSACTIONβ”‚
              β””β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                       β”‚
                       β–Ό
      β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
      β”‚ Step 1: Update payment_requests    β”‚
      β”‚ UPDATE payment_requests            β”‚
      β”‚ SET status = 'approved',           β”‚
      β”‚     reviewed_by = admin_id,        β”‚
      β”‚     reviewed_at = NOW()            β”‚
      β”‚ WHERE request_id = 42              β”‚
      β””β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
               β”‚
               β–Ό
      β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
      β”‚ Step 2: Insert into fee_payments   β”‚
      β”‚ INSERT INTO fee_payments           β”‚
      β”‚ VALUES (                           β”‚
      β”‚   user_id,                         β”‚
      β”‚   amount,                          β”‚
      β”‚   'manual',                        β”‚
      β”‚   'completed',                     β”‚
      β”‚   duration_days,                   β”‚
      β”‚   'Approved by admin',             β”‚
      β”‚   admin_id,                        β”‚
      β”‚   NOW()                            β”‚
      β”‚ )                                  β”‚
      β””β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
               β”‚
               β–Ό
      β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
      β”‚ Step 3: Update users table         β”‚
      β”‚ UPDATE users                       β”‚
      β”‚ SET fee_status = 'paid',           β”‚
      β”‚     fee_paid_date = CURDATE(),     β”‚
      β”‚     fee_expiry_date =              β”‚
      β”‚       CURDATE() +                  β”‚
      β”‚       INTERVAL duration_days DAY   β”‚
      β”‚ WHERE user_id = user_id            β”‚
      β””β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
               β”‚
               β–Ό
           β”β”€β”€β”€β”€β”€β”€β”€β”€β”
           β”‚ COMMIT β”‚
           β””β”€β”€β”€β”€β”¬β”€β”€β”€β”
                β”‚
                β–Ό
        β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
        β”‚ Success: OK  β”‚
        β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## Notification Flow

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    NOTIFICATION SYSTEM                           β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

USER SUBMITS REQUEST
         β”‚
         β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Query: Get all admins      β”‚
β”‚ SELECT * FROM users        β”‚
β”‚ WHERE role = 'admin'       β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
         β”‚
         β–Ό
    β”β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”
    β”‚          β”‚      β”‚      β”‚
    β–Ό          β–Ό      β–Ό      β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β” β”β”€β”€β”€β”€β”€β”€β”€β”€β”  (All admins)
β”‚ Admin1 β”‚ β”‚ Admin2 β”‚
β””β”€β”€β”€β”€β”¬β”€β”€β”€β” β””β”€β”€β”€β”€β”¬β”€β”€β”€β”
     β”‚          β”‚
     β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”
          β”‚
          β–Ό
    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
    β”‚ Send Telegram message:   β”‚
    β”‚ "π”” New Payment Request" β”‚
    β”‚ Request ID: #42          β”‚
    β”‚ User ID: 123456          β”‚
    β”‚ Amount: β‚Ή1500            β”‚
    β”‚ [π” Review Request]      β”‚
    β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

ADMIN APPROVES/REJECTS
         β”‚
         β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Send to user:              β”‚
β”‚                            β”‚
β”‚ If APPROVED:               β”‚
β”‚ "β… Payment Approved!"     β”‚
β”‚ "Valid until: DD MMM YYYY" β”‚
β”‚                            β”‚
β”‚ If REJECTED:               β”‚
β”‚ "β Request Rejected"      β”‚
β”‚ "Contact admin"            β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## Button Interaction Map

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                     BUTTON HIERARCHY                             β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

USER_MENU
   β”‚
   β”β”€ π’³ Request Payment Approval
   β”‚     β”‚
   β”‚     β””β”€ Opens: payment_request_conversation
   β”‚           β”‚
   β”‚           β”β”€ State 0: Enter amount
   β”‚           β”β”€ State 1: Upload proof [/skip]
   β”‚           β””β”€ State 2: Add notes [/skip]
   β”‚
   β””β”€ [Other user buttons...]

ADMIN_MENU
   β”‚
   β”β”€ π’³ Pending Payment Requests
   β”‚     β”‚
   β”‚     β””β”€ Shows: List of pending requests
   β”‚           β”‚
   β”‚           β””β”€ For each request:
   β”‚                 β”‚
   β”‚                 β””β”€ [β… Review #42]
   β”‚                       β”‚
   β”‚                       β””β”€ Shows: Full details + proof
   β”‚                             β”‚
   β”‚                             β”β”€ [β… Approve]
   β”‚                             β”‚     β”‚
   β”‚                             β”‚     β””β”€ Opens: approval_conversation
   β”‚                             β”‚           β”‚
   β”‚                             β”‚           β”β”€ State 0: Enter amount
   β”‚                             β”‚           β””β”€ State 1: Select duration
   β”‚                             β”‚                 β”‚
   β”‚                             β”‚                 β”β”€ [30 days]
   β”‚                             β”‚                 β”β”€ [60 days]
   β”‚                             β”‚                 β”β”€ [90 days]
   β”‚                             β”‚                 β”β”€ [180 days]
   β”‚                             β”‚                 β””β”€ [365 days]
   β”‚                             β”‚
   β”‚                             β””β”€ [β Reject]
   β”‚                                   β”‚
   β”‚                                   β””β”€ Immediate rejection
   β”‚
   β””β”€ [Other admin buttons...]
```

## Data Flow Diagram

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                       DATA FLOW                                  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  USER    β”‚
β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”
     β”‚ 1. Submit request
     β”‚    {amount, proof, notes}
     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ payment_request_        β”‚
β”‚ handlers.py             β”‚
β”‚ create_payment_request()β”‚
β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
     β”‚ 2. Insert
     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ DATABASE                β”‚
β”‚ payment_requests        β”‚
β”‚ β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β”‚ β”‚ request_id: 42      β”‚ β”‚
β”‚ β”‚ user_id: 424837855  β”‚ β”‚
β”‚ β”‚ amount: 1500        β”‚ β”‚
β”‚ β”‚ proof_url: file123  β”‚ β”‚
β”‚ β”‚ notes: "UPI Ref..." β”‚ β”‚
β”‚ β”‚ status: 'pending'   β”‚ β”‚
β”‚ β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
     β”‚ 3. Query pending
     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ ADMIN                   β”‚
β”‚ Views request list      β”‚
β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
     β”‚ 4. Approve with
     β”‚    {amount: 1500,
     β”‚     duration: 90}
     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ payment_request_        β”‚
β”‚ operations.py           β”‚
β”‚ approve_payment_        β”‚
β”‚ request()               β”‚
β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
     β”‚ 5. Transaction:
     β”‚
     β”β”€β–¶ UPDATE payment_requests
     β”‚   SET status='approved'
     β”‚
     β”β”€β–¶ INSERT INTO fee_payments
     β”‚   (amount, duration...)
     β”‚
     β””β”€β–¶ UPDATE users
         SET fee_status='paid',
             fee_expiry_date=
               '2026-04-09'
                 β”‚
                 β–Ό
         β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
         β”‚ Subscription β”‚
         β”‚ ACTIVATED    β”‚
         β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## Error Handling Flow

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    ERROR HANDLING                                β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

User submits request
         β”‚
         β–Ό
    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
    β”‚ Check: Duplicate?   β”‚
    β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
           β”‚
      β”β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”
      β”‚ YES      β”‚ NO
      β–Ό          β–Ό
 β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  Continue
 β”‚ Block & β”‚
 β”‚ Show    β”‚
 β”‚ error   β”‚
 β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

Amount input
         β”‚
         β–Ό
    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
    β”‚ Validate: Number?   β”‚
    β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
           β”‚
      β”β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”
      β”‚ YES      β”‚ NO
      β–Ό          β–Ό
  Continue   β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
             β”‚ Ask     β”‚
             β”‚ again   β”‚
             β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”
                  β”‚
                  β””β”€β”€β”€ Back to input

Database operations
         β”‚
         β–Ό
    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
    β”‚ Try: Execute query  β”‚
    β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
           β”‚
      β”β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”
      β”‚ SUCCESS  β”‚ FAIL
      β–Ό          β–Ό
  Continue   β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
             β”‚ Log error &  β”‚
             β”‚ Show user    β”‚
             β”‚ "Failed"     β”‚
             β”‚ message      β”‚
             β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## Summary Flowchart

```
           β•”β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•—
           β•‘  USER ACTION   β•‘
           β•β•β•β•β•β•β•β•β•¤β•β•β•β•β•β•β•β•β•
                   β”‚
        β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
        β”‚                     β”‚
        β–Ό                     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Submit New    β”‚    β”‚ Check Status   β”‚
β”‚ Request       β”‚    β”‚ (future)       β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”    β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
        β”‚
        β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ payment_requests     β”‚
β”‚ status = 'pending'   β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
           β”‚
           β”‚ Notification
           β–Ό
    β•”β•β•β•β•β•β•β•β•β•β•β•β•β•β•—
    β•‘ ADMIN VIEW  β•‘
    β•β•β•β•β•β•β•β•¤β•β•β•β•β•β•β•
           β”‚
    β”β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”
    β”‚             β”‚
    β–Ό             β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Approve β”‚  β”‚ Reject  β”‚
β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”  β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”
     β”‚            β”‚
     β–Ό            β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Active   β”‚  β”‚ Notify   β”‚
β”‚ Sub      β”‚  β”‚ User     β”‚
β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”  β””β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”
     β”‚              β”‚
     β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”
            β”‚
            β–Ό
     β•”β•β•β•β•β•β•β•β•β•β•β•β•β•—
     β•‘  USER      β•‘
     β•‘  NOTIFIED  β•‘
     β•β•β•β•β•β•β•β•β•β•β•β•β•β•
```

---

## Legend

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Process β”‚  = Action/Operation
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Decision β”‚  = Conditional branch
β””β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”
  β”β”€β”€β”€β”΄β”€β”€β”€β”
  β”‚ YES   β”‚ NO

β•”β•β•β•β•β•β•β•β•β•β•β•—
β•‘ Start/Endβ•‘  = Major milestone
β•β•β•β•β•β•β•β•β•β•β•β•

β”€β”€β”€β”€β”€β–¶     = Data/Control flow
```
